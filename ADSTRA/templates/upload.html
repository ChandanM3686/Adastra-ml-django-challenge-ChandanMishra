<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Train CatBoost model</title>
</head>
<body>
    <h2>Train CatBoost model</h2>

    {% if error %}
        <div style="color:red"><strong>Error:</strong> {{ error }}</div>
    {% endif %}

    {% if message %}
        <div style="color:green"><strong>{{ message }}</strong></div>

        <p><strong>Validation RMSE:</strong> {{ val_rmse }}</p>
        <p><strong>MAPE:</strong> {{ mape }}</p>
        <p><strong>Approx Accuracy:</strong> {{ approx_accuracy }}</p>
        <p><strong>Model Path:</strong> {{ model_path }}</p>

        <p>
            <strong>Submission:</strong>
            <a href="{% url 'download_submission' %}" style="color:blue; font-weight:bold;">
                Download submission.csv
            </a>
        </p>

        <p><strong>Sample predictions:</strong> {{ sample_preds }}</p>
    {% endif %}

    <hr>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <label><strong>Train CSV </strong></label><br>
        <input type="file" name="train_file"><br><br>

        <label><strong>Test CSV</strong></label><br>
        <input type="file" name="test_file"><br><br>

        <button type="submit">Train</button>
    </form>

    <hr>

   
</body>
</html>
